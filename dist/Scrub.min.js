"use strict";function debounce(e,t,r){var l;return function(){var n=this,c=arguments,o=function(){l=null,r||e.apply(n,c)},i=r&&!l;clearTimeout(l),l=setTimeout(o,t),i&&e.apply(n,c)}}function Scrub(e){function t(){var t=isObject(e)?document.querySelectorAll(e.target)[0]:document.querySelectorAll(e)[0];try{!function(r){var l=isObject(e)?e.target:e;if(l=l.replace("#",""),l=l.replace(".",""),l.indexOf(".")>-1&&document.querySelectorAll(l).length>1&&console.warn("%cScrub Slider works best if you use an %cID%c or a %cunique%c class... ","color:cornflowerblue;","color:indianred;","color:cornflowerblue;","color:indianred;","color:cornflowerblue;"),void 0!=t){t.className+=" scrub-slider";var n=t.offsetWidth;null!=e.height&&(t.style.height=e.height);for(var c=t.children,o=0;o<2;o++){var i=c[o];c[o]&&i.tagName&&function(r,l,c){if("DIV"==l){var o=r.cloneNode(!0);r.parentNode.removeChild(r);var i=document.createElement("div");if(i.className=0==c?"scrub-content scrub-left":"scrub-content scrub-right",i.style.width=parseInt(n/2)+"px",t.insertBefore(i,t.firstChild),o.style.width=n+"px",null!=e.alt&&o.setAttribute("alt",0==c?e.alt[0]:e.alt[1]),null!=e.src){var s=0==c?e.src[0]:e.src[1];o.style.backgroundImage="url("+s+")"}i.append(o),""==r.style.backgroundImage&&console.warn("%cScrub Slider divs must have a %cbackground image to work!%c >:[","color:cornflowerblue;","color:indianred;","color:cornflowerblue;");var a=debounce(function(e){var r=t.offsetWidth;i.style.width=parseInt(r/2)+"px",e.style.width=r+"px"},500);window.addEventListener("resize",function(e){a(o)})}else if("IMG"==l){var u=document.createElement("div"),d=r.getAttribute("src");null!=e.src&&(d=0==c?e.src[0]:e.src[1]),r.parentNode.removeChild(r);var f=document.createElement("div");f.className=0==c?"scrub-content scrub-left":"scrub-content scrub-right",f.style.width=parseInt(n/2)+"px",null!=e.alt&&u.setAttribute("alt",0==c?e.alt[0]:e.alt[1]),t.insertBefore(f,t.firstChild),u.style.width=n+"px",u.style.backgroundImage="url("+d+")",f.append(u);var h=debounce(function(e){var r=t.offsetWidth;f.style.width=parseInt(r/2)+"px",e.style.width=r+"px"},500);window.addEventListener("resize",function(e){h(u)})}}(c[o],i.tagName,o)}r(t)}else console.warn("%cScrub Slider needs to be passed an appropriate selector %c- preferably an ID, but a specific, unique class works too.","color:cornflowerblue;","color:indianred;")}(function(t){var r=document.createElement("div");r.className="sliding handleOn ",r.innerHTML='<span class="sliding-left"></span><span class="sliding-right"></span>',t.appendChild(r),0==e.handle&&(r.innerHTML="",r.classList.remove("handleOn"));var l=debounce(function(e,t,l){if(r){var n=t-e;l.querySelectorAll(".sliding")[0].style.left=(e>0?e:0)+"px";l.querySelectorAll(".scrub-left")[0].style.width=(e>0?e:0)+"px";l.querySelectorAll(".scrub-right")[0].style.width=(n>0?n:0)+"px"}},1);t.addEventListener("mousemove",function(e){var r=e.clientX-this.offsetLeft,n=t.offsetWidth;l(r,n,t)})})}catch(e){console.trace("%cuh-oh: %c"+e,"color:indianred;","color:cornflowerblue;")}}isObject(e)?(e.target=void 0!==e.target&&isObject(e)?e.target:null,e.height=void 0!==e.height&&isObject(e)?e.height:"500px",e.handle=void 0===e.handle||!isObject(e)||e.handle,e.src=void 0!==e.src&&isObject(e)?e.src:null,e.alt=void 0!==e.alt&&isObject(e)?e.alt:null,t()):t()}var isObject=function(e){return!!e&&e.constructor===Object};
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcnViLmpzIl0sIm5hbWVzIjpbImRlYm91bmNlIiwiZnVuYyIsIndhaXQiLCJpbW1lZGlhdGUiLCJ0aW1lb3V0IiwidGhpcyIsImFyZ3MiLCJhcmd1bWVudHMiLCJsYXRlciIsImNvbnRleHQiLCJhcHBseSIsImNsZWFyVGltZW91dCIsInNldFRpbWVvdXQiLCJjYWxsTm93IiwiU2NydWIiLCJzY3J1YkFyZyIsIlNjcnViSW5pdGlhdGUiLCJzY3J1YlNsaWRlciIsImlzT2JqZWN0IiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yQWxsIiwidGFyZ2V0IiwiY2FsbGJhY2siLCJzY3J1Yk5hbWUiLCJyZXBsYWNlIiwibGVuZ3RoIiwidW5kZWZpbmVkIiwiY2xhc3NOYW1lIiwib2Zmc2V0V2lkdGgiLCJ0eXBlIiwic3R5bGUiLCJoZWlnaHQiLCJzY3J1YkNoaWxkcmVuIiwic2NydWJDb250IiwiaSIsImNoaWxkIiwiZWwiLCJ3aWR0aCIsImluZGV4IiwiaW5zZXJ0QmVmb3JlIiwic2NydWJJbWFnZSIsInNsaWRlcldpZHRoIiwicGFyZW50Tm9kZSIsInJlbW92ZUNoaWxkIiwic2V0QXR0cmlidXRlIiwicGFyc2VJbnQiLCJmaXJzdENoaWxkIiwiYmFja2dyb3VuZEltYWdlIiwiYXBwZW5kIiwiYWx0Iiwic3JjIiwiaW1nU3JjIiwibmV3U2xpZGVyV2lkdGgiLCJjb25zb2xlIiwid2FybiIsInJlemlzZUZuIiwiY3JlYXRlRWxlbWVudCIsImdldEF0dHJpYnV0ZSIsIndpbmRvdyIsImFkZEV2ZW50TGlzdGVuZXIiLCJlIiwiY3JlYXRlU2NydWJJbWFnZXMiLCJ0YWdOYW1lIiwic2NydWJIYW5kbGUiLCJpbm5lckhUTUwiLCJhcHBlbmRDaGlsZCIsImNsYXNzTGlzdCIsInJlbW92ZSIsIm1vdmVyIiwicG9zIiwiZnVsbCIsInNsaWRlciIsInNsaWRpbmciLCJjb250ZW50TGVmdCIsImNvbnRlbnRSaWdodCIsInNocmluayIsIm1vdXNlUG9zaXRpb24iLCJjbGllbnRYIiwib2Zmc2V0TGVmdCIsImZ1bGxXaWR0aCIsInRyYWNlIiwiaGFuZGxlIiwiYSIsImNvbnN0cnVjdG9yIiwiT2JqZWN0Il0sIm1hcHBpbmdzIjoiWUFPQyxTQUZEQSxVQUFBQyxFQUFBQyxFQUFBQyxHQUdBLEdBQUFDLEVBQ0EsT0FBU0osWUFDREksR0FBQUEsR0FBSkMsS0FBQUMsRUFBQUMsVUFDT0MsRUFBQSxXQUNDQyxFQUFVLEtBQU1ILEdBQXBCTCxFQUFBUyxNQUFBRCxFQUFBSCxJQUVJRixFQUFVRCxJQUFWQyxDQUNBTyxjQUFLUixHQUNSQyxFQUhEUSxXQUFBSixFQUFBTixHQUlJVyxHQUFBQSxFQUFVVixNQUFBQSxFQUFjQyxJQUkvQixRQVZEVSxPQUFBQyxHQTRCQyxRQUFBQyxLQUVMLEdBQUFDLEdBQUFDLFNBQXlCSCxHQUFBSSxTQUFBQyxpQkFBQUwsRUFBQU0sUUFBQSxHQUFBRixTQUFBQyxpQkFBQUwsR0FBQSxFQUVyQixNQUdJLFNBQW1CTyxHQUdqQixHQUFJQyxHQUFjTCxTQUFTSCxHQUFlQSxFQUFTTSxPQUFVTixDQUs1RCxJQU5EUSxFQUFBQSxFQUFBQyxRQUFBLElBQUEsSUFDQUQsRUFBSUEsRUFBY0wsUUFBQUEsSUFBU0gsSUFDM0JRLEVBQUFBLFFBQVlBLE1BQVVDLEdBQVFMLFNBQTlCQyxpQkFBQUcsR0FBQUUsT0FBQSxHQUNBRixRQUFBQSxLQUFBQSwyRUFBQSx3QkFBQSxtQkFBQSx3QkFBQSxtQkFBQSw2QkFHQ0csSUFBQVQsRUFBQSxDQUdHQSxFQUFZVSxXQUFhLGVBRDNCLElBQUtWLEdBQUFBLEVBQTJCVyxXQVlYLE9BQWJiLEVBQUtjLFNBQ0ZaLEVBQUFhLE1BQUFDLE9BQUFoQixFQUFBZ0IsT0F1RVAsS0FBQSxHQW5FT0MsR0FBSUMsRUFBWWQsU0FtRXZCZSxFQUFJLEVBQUlBLEVBQUUsRUFBR0EsSUFBYixDQUNFLEdBQUFDLEdBQUlBLEVBQVFILEVBQ1pBLEdBQUtBLElBQUFHLEVBQW9CQSxTQW5FcEJGLFNBQUFHLEVBQWdCQyxFQUFoQkMsR0FDQXJCLEdB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QU1PLGlCQUFxQmdDLGVBQ3pDSyxHQUFBQSxNQUFlSCxPQUFPbkQsRUFBQUEsRUFBaUJpRCxFQUFBLEdBQUEsSUFDeEJ2QyxHQUFNTyxpQkFBUyxnQkFDckMsR0FBQVAsTUFBQU8sT0FBQXNDLEVBQUEsRUFBQUEsRUFBQSxHQUFBLE9BRUwsRUFFRTFELEdBQUkyRCxpQkFBa0JDLFlBQWVDLFNBQXJDbEIsR0FDQSxHQUFBZ0IsR0FBZ0IzRCxFQUFBQSxRQUFZVyxLQUFBQSxXQUM1QndDLEVBQU1RLEVBQWNHLFdBSHRCWCxHQUFBUSxFQUFBRyxFQUFBOUQsT0FPUm9DLE1BQUFBLEdBQ0hBLFFBQUEyQixNQUFBLGNBQUFwQixFQUFBLG1CQUFBLDBCQXBLSTlDLFNBQU1DLElBRVhBLEVBQUFNLFdBQUEsS0FBQU4sRUFBQU0sUUFBQUgsU0FBQUgsR0FBQUEsRUFBQU0sT0FBQSxLQUNLSCxFQUFTSCxXQUFZLEtBQUFBLEVBQUFnQixRQUFBYixTQUFBSCxHQUFBQSxFQUFBZ0IsT0FBQSxRQUN0QmhCLEVBQUFrRSxXQUFBLEtBQUFsRSxFQUFBa0UsU0FBQS9ELFNBQUFILElBQUFBLEVBQUFrRSxPQUNFbEUsRUFBU00sUUFBVyxLQUFPTixFQUFTTSxLQUFoQkgsU0FBMENBLEdBQXVCSCxFQUFTTSxJQUE1RSxLQUNsQk4sRUFBU2dCLFFBQVcsS0FBT2hCLEVBQVNnQixLQUFoQmIsU0FBMENBLEdBQXVCSCxFQUFTZ0IsSUFBNUUsS0FFbEJoQixLQUdGQyxJQWhDUixHQUFBRSxVQUFBLFNBQUFnRSxHQUNBLFFBQUFBLEdBQUFBLEVBQUFDLGNBQUFDIiwiZmlsZSI6IlNjcnViLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qIFNjcnViIFNsaWRlciAqL1xyXG4vLyBkZWJvdW5jZShmdW5jdGlvbihwb3MsZnVsbCxzbGlkZXIpIHtcblxyXG4vLyBoZWxwZXIgZnVuY3Rpb25zXG4vLyBvYmplY3QgdGVzdFxyXG52YXIgaXNPYmplY3QgPSBmdW5jdGlvbihhKSB7XHJcbiAgICByZXR1cm4gKCEhYSkgJiYgKGEuY29uc3RydWN0b3IgPT09IE9iamVjdCk7XHJcbn07XG4vLyBkZWJvdW5jZSAodGhhbmtzIHRvIFVuZGVyc2NvcmUpXHJcbmZ1bmN0aW9uIGRlYm91bmNlKGZ1bmMsIHdhaXQsIGltbWVkaWF0ZSkge1xyXG4gICAgdmFyIHRpbWVvdXQ7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgdmFyIGNvbnRleHQgPSB0aGlzLCBhcmdzID0gYXJndW1lbnRzO1xyXG4gICAgICAgIHZhciBsYXRlciA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICB0aW1lb3V0ID0gbnVsbDtcclxuICAgICAgICAgICAgaWYgKCFpbW1lZGlhdGUpIGZ1bmMuYXBwbHkoY29udGV4dCwgYXJncyk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICB2YXIgY2FsbE5vdyA9IGltbWVkaWF0ZSAmJiAhdGltZW91dDtcclxuICAgICAgICBjbGVhclRpbWVvdXQodGltZW91dCk7XHJcbiAgICAgICAgdGltZW91dCA9IHNldFRpbWVvdXQobGF0ZXIsIHdhaXQpO1xyXG4gICAgICAgIGlmIChjYWxsTm93KSBmdW5jLmFwcGx5KGNvbnRleHQsIGFyZ3MpO1xyXG4gICAgfTtcclxufTtcblxyXG5mdW5jdGlvbiBTY3J1YihzY3J1YkFyZykge1xuXHJcbiAgICAvLyBjaGVjayBpZiBzaW1wbGUgY2FsbCBvciBjb25maWcgcGFzc2VkXHJcbiAgICBpZiAoIGlzT2JqZWN0KHNjcnViQXJnKSApIHtcclxuICAgICAgICAvLyBzZXQgZnVuY3Rpb24gZGVmYXVsdCBhcmd1bWVudHNcclxuICAgICAgICAgIHNjcnViQXJnLnRhcmdldCA9ICggdHlwZW9mIHNjcnViQXJnLnRhcmdldCAhPT0gJ3VuZGVmaW5lZCcgJiYgaXNPYmplY3Qoc2NydWJBcmcpICkgPyBzY3J1YkFyZy50YXJnZXQgOiBudWxsO1xyXG4gICAgICAgICAgc2NydWJBcmcuaGVpZ2h0ID0gKCB0eXBlb2Ygc2NydWJBcmcuaGVpZ2h0ICE9PSAndW5kZWZpbmVkJyAmJiBpc09iamVjdChzY3J1YkFyZykgKSA/IHNjcnViQXJnLmhlaWdodCA6ICc1MDBweCc7XHJcbiAgICAgICAgICBzY3J1YkFyZy5oYW5kbGUgPSAoIHR5cGVvZiBzY3J1YkFyZy5oYW5kbGUgIT09ICd1bmRlZmluZWQnICYmIGlzT2JqZWN0KHNjcnViQXJnKSApID8gc2NydWJBcmcuaGFuZGxlIDogdHJ1ZTtcclxuICAgICAgICAgIHNjcnViQXJnLnNyYyA9ICggdHlwZW9mIHNjcnViQXJnLnNyYyAhPT0gJ3VuZGVmaW5lZCcgJiYgaXNPYmplY3Qoc2NydWJBcmcpICkgPyBzY3J1YkFyZy5zcmMgOiBudWxsO1xyXG4gICAgICAgICAgc2NydWJBcmcuYWx0ID0gKCB0eXBlb2Ygc2NydWJBcmcuYWx0ICE9PSAndW5kZWZpbmVkJyAmJiBpc09iamVjdChzY3J1YkFyZykgKSA/IHNjcnViQXJnLmFsdCA6IG51bGw7XHJcblxyXG4gICAgICAgIFNjcnViSW5pdGlhdGUoKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIFNjcnViSW5pdGlhdGUoKTtcclxuICAgIH1cclxuXHJcbmZ1bmN0aW9uIFNjcnViSW5pdGlhdGUoKSB7XHJcbiAgICAvLyBnZXQgY2hvc2VuIHNsaWRlciBjb250YWluZXJcclxuICAgIGNvbnN0IHNjcnViU2xpZGVyID0gKCBpc09iamVjdChzY3J1YkFyZykgKSA/IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoc2NydWJBcmcudGFyZ2V0KVswXSA6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoc2NydWJBcmcpWzBdIDtcclxuXHJcbiAgICB0cnkge1xyXG4gICAgICAgIGZ1bmN0aW9uIHV0aWxpdHlGbihjYWxsYmFjaykge1xyXG5cclxuICAgICAgICAgIC8vIGF2b2lkIG5vbi1zcGVjaWZpYyBjbGFzc2VzLi5cclxuICAgICAgICAgIHZhciBzY3J1Yk5hbWUgPSAoIGlzT2JqZWN0KHNjcnViQXJnKSApID8gKHNjcnViQXJnLnRhcmdldCkgOiBzY3J1YkFyZztcclxuICAgICAgICAgIHNjcnViTmFtZSA9IHNjcnViTmFtZS5yZXBsYWNlKFwiI1wiLCBcIlwiKTtcclxuICAgICAgICAgIHNjcnViTmFtZSA9IHNjcnViTmFtZS5yZXBsYWNlKFwiLlwiLCBcIlwiKTtcclxuICAgICAgICAgIGlmICggc2NydWJOYW1lLmluZGV4T2YoJy4nKSA+IC0xICYmIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoc2NydWJOYW1lKS5sZW5ndGggPiAxICkge1xyXG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJyVjU2NydWIgU2xpZGVyIHdvcmtzIGJlc3QgaWYgeW91IHVzZSBhbiAlY0lEJWMgb3IgYSAlY3VuaXF1ZSVjIGNsYXNzLi4uICcsJ2NvbG9yOmNvcm5mbG93ZXJibHVlOycsJ2NvbG9yOmluZGlhbnJlZDsnLCdjb2xvcjpjb3JuZmxvd2VyYmx1ZTsnLCdjb2xvcjppbmRpYW5yZWQ7JywnY29sb3I6Y29ybmZsb3dlcmJsdWU7Jyk7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAoIHNjcnViU2xpZGVyICE9IHVuZGVmaW5lZCApIHtcclxuICAgICAgICAgICAgICBzY3J1YlNsaWRlci5jbGFzc05hbWUgKz0gXCIgc2NydWItc2xpZGVyXCI7XHJcbiAgICAgICAgICAgICAgY29uc3Qgc2xpZGVyV2lkdGggPSBzY3J1YlNsaWRlci5vZmZzZXRXaWR0aDtcclxuICAgICAgICAgICAgICAvLyBzZXQgaGVpZ2h0IGlmIGdpdmVuXHJcbiAgICAgICAgICAgICAgaWYgKCBzY3J1YkFyZy5oZWlnaHQgIT0gbnVsbCApIHtcclxuICAgICAgICAgICAgICAgIHNjcnViU2xpZGVyLnN0eWxlLmhlaWdodCA9IHNjcnViQXJnLmhlaWdodDtcclxuICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gZ2V0IGNob3NlbiBzbGlkZXIncyBpbWFnZXNcclxuICAgICAgICAgICAgICAgIGxldCBzY3J1YkNoaWxkcmVuID0gc2NydWJTbGlkZXIuY2hpbGRyZW47XHJcblxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gY3JlYXRlU2NydWJJbWFnZXMoZWwsdHlwZSxpbmRleCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICggdHlwZSA9PSAnRElWJyApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAvLyBjbG9uZSBkaXZcclxuICAgICAgICAgICAgICAgICAgICAgICBsZXQgc2NydWJJbWFnZSA9IGVsLmNsb25lTm9kZSh0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICBlbC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGVsKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAvLyBpbmplY3Qgc2NydWIgY29udGFpbmVyXHJcbiAgICAgICAgICAgICAgICAgICAgICAgbGV0IHNjcnViQ29udCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgIHNjcnViQ29udC5jbGFzc05hbWUgPSAoIGluZGV4ID09IDAgKSA/IFwic2NydWItY29udGVudCBzY3J1Yi1sZWZ0XCIgOiBcInNjcnViLWNvbnRlbnQgc2NydWItcmlnaHRcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICBzY3J1YkNvbnQuc3R5bGUud2lkdGggPSBwYXJzZUludChzbGlkZXJXaWR0aCAvIDIpICsgXCJweFwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgIHNjcnViU2xpZGVyLmluc2VydEJlZm9yZShzY3J1YkNvbnQsc2NydWJTbGlkZXIuZmlyc3RDaGlsZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgLy8gcmUtYXR0YWNoIGRpdlxyXG4gICAgICAgICAgICAgICAgICAgICAgIHNjcnViSW1hZ2Uuc3R5bGUud2lkdGggPSBzbGlkZXJXaWR0aCArIFwicHhcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gaWYgYWx0IHNwZWNpZmllZCBtYW51YWxseVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIHNjcnViQXJnLmFsdCAhPSBudWxsICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NydWJJbWFnZS5zZXRBdHRyaWJ1dGUoJ2FsdCcsICggKCBpbmRleCA9PSAwICkgPyBzY3J1YkFyZy5hbHRbMF0gOiBzY3J1YkFyZy5hbHRbMV0gKSApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGlmIHNyYyBzcGVjaWZpZWQgbWFudWFsbHlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICggc2NydWJBcmcuc3JjICE9IG51bGwgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGltZ1NyYyA9ICggaW5kZXggPT0gMCApID8gc2NydWJBcmcuc3JjWzBdIDogc2NydWJBcmcuc3JjWzFdIDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY3J1YkltYWdlLnN0eWxlLmJhY2tncm91bmRJbWFnZSA9ICd1cmwoJyArIGltZ1NyYyArICcpJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICBzY3J1YkNvbnQuYXBwZW5kKHNjcnViSW1hZ2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgIC8vIG5lZWQgYSBiYWNrZ3JvdW5kIGltYWdlLi5cclxuICAgICAgICAgICAgICAgICAgICAgICBpZiAoIGVsLnN0eWxlLmJhY2tncm91bmRJbWFnZSA9PSAnJyApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCclY1NjcnViIFNsaWRlciBkaXZzIG11c3QgaGF2ZSBhICVjYmFja2dyb3VuZCBpbWFnZSB0byB3b3JrISVjID46WycsJ2NvbG9yOmNvcm5mbG93ZXJibHVlOycsJ2NvbG9yOmluZGlhbnJlZDsnLCdjb2xvcjpjb3JuZmxvd2VyYmx1ZTsnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgIC8vIGhhbmRsZSByZXNpemVcclxuICAgICAgICAgICAgICAgICAgICAgICBsZXQgcmV6aXNlRm4gPSBkZWJvdW5jZShmdW5jdGlvbihzY3J1YkltYWdlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBuZXdTbGlkZXJXaWR0aCA9IHNjcnViU2xpZGVyLm9mZnNldFdpZHRoO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBzY3J1YkNvbnQuc3R5bGUud2lkdGggPSBwYXJzZUludChuZXdTbGlkZXJXaWR0aCAvIDIpICsgXCJweFwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBzY3J1YkltYWdlLnN0eWxlLndpZHRoID0gbmV3U2xpZGVyV2lkdGggKyBcInB4XCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgfSwgNTAwKTtcclxuICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgZnVuY3Rpb24oZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICByZXppc2VGbihzY3J1YkltYWdlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKCB0eXBlID09ICdJTUcnICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgIC8vIGNsb25lIGRpdlxyXG4gICAgICAgICAgICAgICAgICAgICAgIGxldCBzY3J1YkltYWdlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgbGV0IGltZ1NyYyA9IGVsLmdldEF0dHJpYnV0ZSgnc3JjJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBpZiBzcmMgc3BlY2lmaWVkIG1hbnVhbGx5XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIHNjcnViQXJnLnNyYyAhPSBudWxsICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGltZ1NyYyA9ICggaW5kZXggPT0gMCApID8gc2NydWJBcmcuc3JjWzBdIDogc2NydWJBcmcuc3JjWzFdIDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICBlbC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGVsKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAvLyBpbmplY3Qgc2NydWIgY29udGFpbmVyXHJcbiAgICAgICAgICAgICAgICAgICAgICAgbGV0IHNjcnViQ29udCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgIHNjcnViQ29udC5jbGFzc05hbWUgPSAoIGluZGV4ID09IDAgKSA/IFwic2NydWItY29udGVudCBzY3J1Yi1sZWZ0XCIgOiBcInNjcnViLWNvbnRlbnQgc2NydWItcmlnaHRcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICBzY3J1YkNvbnQuc3R5bGUud2lkdGggPSBwYXJzZUludChzbGlkZXJXaWR0aCAvIDIpICsgXCJweFwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBpZiBhbHQgc3BlY2lmaWVkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICggc2NydWJBcmcuYWx0ICE9IG51bGwgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY3J1YkltYWdlLnNldEF0dHJpYnV0ZSgnYWx0JywgKCAoIGluZGV4ID09IDAgKSA/IHNjcnViQXJnLmFsdFswXSA6IHNjcnViQXJnLmFsdFsxXSApIClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgIHNjcnViU2xpZGVyLmluc2VydEJlZm9yZShzY3J1YkNvbnQsc2NydWJTbGlkZXIuZmlyc3RDaGlsZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgLy8gcmUtYXR0YWNoIGRpdlxyXG4gICAgICAgICAgICAgICAgICAgICAgIHNjcnViSW1hZ2Uuc3R5bGUud2lkdGggPSBzbGlkZXJXaWR0aCArIFwicHhcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICBzY3J1YkltYWdlLnN0eWxlLmJhY2tncm91bmRJbWFnZSA9ICd1cmwoJyArIGltZ1NyYyArICcpJztcclxuICAgICAgICAgICAgICAgICAgICAgICBzY3J1YkNvbnQuYXBwZW5kKHNjcnViSW1hZ2UpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAvLyBoYW5kbGUgcmVzaXplXHJcbiAgICAgICAgICAgICAgICAgICAgICAgbGV0IHJlemlzZUZuID0gZGVib3VuY2UoZnVuY3Rpb24oc2NydWJJbWFnZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgbmV3U2xpZGVyV2lkdGggPSBzY3J1YlNsaWRlci5vZmZzZXRXaWR0aDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NydWJDb250LnN0eWxlLndpZHRoID0gcGFyc2VJbnQobmV3U2xpZGVyV2lkdGggLyAyKSArIFwicHhcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NydWJJbWFnZS5zdHlsZS53aWR0aCA9IG5ld1NsaWRlcldpZHRoICsgXCJweFwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgIH0sIDUwMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV6aXNlRm4oc2NydWJJbWFnZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGZvcihsZXQgaT0wOyBpIDwgMjsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgIGxldCBjaGlsZCA9IHNjcnViQ2hpbGRyZW5baV07XHJcbiAgICAgICAgICAgICAgICAgIGlmICggc2NydWJDaGlsZHJlbltpXSAmJiBjaGlsZC50YWdOYW1lICkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNyZWF0ZVNjcnViSW1hZ2VzKCBzY3J1YkNoaWxkcmVuW2ldLCBjaGlsZC50YWdOYW1lLCBpICk7XHJcbiAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGNhbGxiYWNrKHNjcnViU2xpZGVyKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybignJWNTY3J1YiBTbGlkZXIgbmVlZHMgdG8gYmUgcGFzc2VkIGFuIGFwcHJvcHJpYXRlIHNlbGVjdG9yICVjLSBwcmVmZXJhYmx5IGFuIElELCBidXQgYSBzcGVjaWZpYywgdW5pcXVlIGNsYXNzIHdvcmtzIHRvby4nLCdjb2xvcjpjb3JuZmxvd2VyYmx1ZTsnLCdjb2xvcjppbmRpYW5yZWQ7Jyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB1dGlsaXR5Rm4oZnVuY3Rpb24oc2NydWJTbGlkZXIpIHtcclxuICAgICAgICAgICAgICAgIC8vIGFkZCBzY3J1YiBjb250cm9sL2hhbmRsZVxyXG4gICAgICAgICAgICAgICAgY29uc3Qgc2NydWJIYW5kbGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICAgICAgICAgIHNjcnViSGFuZGxlLmNsYXNzTmFtZT0gXCJzbGlkaW5nIGhhbmRsZU9uIFwiO1xyXG4gICAgICAgICAgICAgICAgc2NydWJIYW5kbGUuaW5uZXJIVE1MID0gJzxzcGFuIGNsYXNzPVwic2xpZGluZy1sZWZ0XCI+PC9zcGFuPjxzcGFuIGNsYXNzPVwic2xpZGluZy1yaWdodFwiPjwvc3Bhbj4nO1xyXG4gICAgICAgICAgICAgICAgc2NydWJTbGlkZXIuYXBwZW5kQ2hpbGQoc2NydWJIYW5kbGUpO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIHJlbW92ZSBoYW5kbGUgaWYgc3BlY2lmaWVkXHJcbiAgICAgICAgICAgICAgICBpZiAoIHNjcnViQXJnLmhhbmRsZSA9PSBmYWxzZSApIHtcclxuICAgICAgICAgICAgICAgICAgICBzY3J1YkhhbmRsZS5pbm5lckhUTUwgPSAnJztcclxuICAgICAgICAgICAgICAgICAgICBzY3J1YkhhbmRsZS5jbGFzc0xpc3QucmVtb3ZlKCdoYW5kbGVPbicpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIC8vIHNjcnViIHNsaWRlciBtYWluIGFjdGlvbiBmblxyXG4gICAgICAgICAgICAgICAgdmFyIG1vdmVyID0gZGVib3VuY2UoZnVuY3Rpb24ocG9zLGZ1bGwsc2xpZGVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCBzY3J1YkhhbmRsZSApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHNocmluayA9IGZ1bGwgLSBwb3M7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBzbGlkaW5nID0gc2xpZGVyLnF1ZXJ5U2VsZWN0b3JBbGwoJy5zbGlkaW5nJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIHNsaWRpbmdbMF0uc3R5bGUubGVmdCA9ICgocG9zID4gMCkgPyBwb3MgOiAwKSArIFwicHhcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGNvbnRlbnRMZWZ0ID0gc2xpZGVyLnF1ZXJ5U2VsZWN0b3JBbGwoJy5zY3J1Yi1sZWZ0Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnRMZWZ0WzBdLnN0eWxlLndpZHRoID0gKChwb3MgPiAwKSA/IHBvcyA6IDApICsgXCJweFwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgY29udGVudFJpZ2h0ID0gc2xpZGVyLnF1ZXJ5U2VsZWN0b3JBbGwoJy5zY3J1Yi1yaWdodCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50UmlnaHRbMF0uc3R5bGUud2lkdGggPSAoKHNocmluayA+IDApID8gc2hyaW5rIDogMCkgKyBcInB4XCI7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSwgMSk7XHJcbiAgICAgICAgICAgICAgICAvLyBhZGQgbW91c2Vtb3ZlIGxpc3RlbmVyXHJcbiAgICAgICAgICAgICAgICBzY3J1YlNsaWRlci5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgICAgICAgICAgIGxldCBtb3VzZVBvc2l0aW9uID0gZS5jbGllbnRYIC0gdGhpcy5vZmZzZXRMZWZ0O1xyXG4gICAgICAgICAgICAgICAgICBsZXQgZnVsbFdpZHRoID0gc2NydWJTbGlkZXIub2Zmc2V0V2lkdGg7XHJcbiAgICAgICAgICAgICAgICAgIG1vdmVyKG1vdXNlUG9zaXRpb24sZnVsbFdpZHRoLHNjcnViU2xpZGVyKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgIH1jYXRjaChlKXtcclxuICAgICAgICBjb25zb2xlLnRyYWNlKCclY3VoLW9oOiAlYycgKyBlICsgJycsJ2NvbG9yOmluZGlhbnJlZDsnLCdjb2xvcjpjb3JuZmxvd2VyYmx1ZTsnKTtcclxuICAgIH1cclxufVxyXG59XHJcbiJdfQ==
