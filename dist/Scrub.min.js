"use strict";function debounce(e,t,r){var l;return function(){var n=this,c=arguments,o=function(){l=null,r||e.apply(n,c)},i=r&&!l;clearTimeout(l),l=setTimeout(o,t),i&&e.apply(n,c)}}function Scrub(e){function t(){var t=isObject(e)?document.querySelectorAll(e.target)[0]:document.querySelectorAll(e)[0];try{!function(r){var l=isObject(e)?e.target:e;if(l=l.replace("#",""),l=l.replace(".",""),l.indexOf(".")>-1&&document.querySelectorAll(l).length>1&&console.warn("%cScrub Slider works best if you use an %cID%c or a %cunique%c class... ","color:cornflowerblue;","color:indianred;","color:cornflowerblue;","color:indianred;","color:cornflowerblue;"),void 0!=t){t.className+=" scrub-slider";var n=t.offsetWidth;null!=e.height&&(t.style.height=e.height);for(var c=t.children,o=0;o<2;o++){var i=c[o];c[o]&&i.tagName&&function(r,l,c){if("DIV"==l){var o=r.cloneNode(!0);r.parentNode.removeChild(r);var i=document.createElement("div");if(i.className=0==c?"scrub-content scrub-left":"scrub-content scrub-right",i.style.width=parseInt(n/2)+"px",t.insertBefore(i,t.firstChild),o.style.width=n+"px",null!=e.alt&&o.setAttribute("alt",0==c?e.alt[0]:e.alt[1]),null!=e.src){var s=0==c?e.src[0]:e.src[1];o.style.backgroundImage="url("+s+")"}i.append(o),""==r.style.backgroundImage&&console.warn("%cScrub Slider divs must have a %cbackground image to work!%c >:[","color:cornflowerblue;","color:indianred;","color:cornflowerblue;");var a=debounce(function(e){var r=t.offsetWidth;i.style.width=parseInt(r/2)+"px",e.style.width=r+"px"},500);window.addEventListener("resize",function(e){a(o)})}else if("IMG"==l){var u=document.createElement("div"),d=r.getAttribute("src");null!=e.src&&(d=0==c?e.src[0]:e.src[1]),r.parentNode.removeChild(r);var f=document.createElement("div");f.className=0==c?"scrub-content scrub-left":"scrub-content scrub-right",f.style.width=parseInt(n/2)+"px",null!=e.alt&&u.setAttribute("alt",0==c?e.alt[0]:e.alt[1]),t.insertBefore(f,t.firstChild),u.style.width=n+"px",u.style.backgroundImage="url("+d+")",f.append(u);var h=debounce(function(e){var r=t.offsetWidth;f.style.width=parseInt(r/2)+"px",e.style.width=r+"px"},500);window.addEventListener("resize",function(e){h(u)})}}(c[o],i.tagName,o)}r(t)}else console.warn("%cScrub Slider needs to be passed an appropriate selector %c- preferably an ID, but a specific, unique class works too.","color:cornflowerblue;","color:indianred;")}(function(t){var r=document.createElement("div");r.className="sliding handleOn ",r.innerHTML='<span class="sliding-left"></span><span class="sliding-right"></span>',t.appendChild(r),0==e.handle&&(r.innerHTML="",r.classList.remove("handleOn"));var l=debounce(function(e,t,l){if(r){var n=t-e;l.querySelectorAll(".sliding")[0].style.left=(e>0?e:0)+"px";l.querySelectorAll(".scrub-left")[0].style.width=(e>0?e:0)+"px";l.querySelectorAll(".scrub-right")[0].style.width=(n>0?n:0)+"px"}},1);t.addEventListener("mousemove",function(e){var r=e.clientX-this.offsetLeft,n=t.offsetWidth;l(r,n,t)})})}catch(e){console.trace("%cuh-oh: %c"+e,"color:indianred;","color:cornflowerblue;")}}isObject(e)?(e.target=void 0!==e.target&&isObject(e)?e.target:null,e.height=void 0!==e.height&&isObject(e)?e.height:"500px",e.handle=void 0===e.handle||!isObject(e)||e.handle,e.src=void 0!==e.src&&isObject(e)?e.src:null,e.alt=void 0!==e.alt&&isObject(e)?e.alt:null,t()):t()}var isObject=function(e){return!!e&&e.constructor===Object};
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInRlc3RiYWJlbC5qcyJdLCJuYW1lcyI6WyJkZWJvdW5jZSIsImZ1bmMiLCJ3YWl0IiwiaW1tZWRpYXRlIiwidGltZW91dCIsImNvbnRleHQiLCJ0aGlzIiwiYXJncyIsImFyZ3VtZW50cyIsImxhdGVyIiwiYXBwbHkiLCJjYWxsTm93IiwiY2xlYXJUaW1lb3V0Iiwic2V0VGltZW91dCIsIlNjcnViIiwic2NydWJBcmciLCJTY3J1YkluaXRpYXRlIiwic2NydWJTbGlkZXIiLCJpc09iamVjdCIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvckFsbCIsInRhcmdldCIsImNhbGxiYWNrIiwic2NydWJOYW1lIiwicmVwbGFjZSIsImxlbmd0aCIsImluZGV4T2YiLCJ1bmRlZmluZWQiLCJjbGFzc05hbWUiLCJvZmZzZXRXaWR0aCIsImhlaWdodCIsInNjcnViQ2hpbGRyZW4iLCJjaGlsZHJlbiIsImkiLCJjaGlsZCIsInRhZ05hbWUiLCJlbCIsInR5cGUiLCJpbmRleCIsImNyZWF0ZVNjcnViSW1hZ2VzIiwic2NydWJJbWFnZSIsImNsb25lTm9kZSIsInBhcmVudE5vZGUiLCJzY3J1YkNvbnQiLCJjcmVhdGVFbGVtZW50Iiwic2xpZGVyV2lkdGgiLCJzdHlsZSIsInBhcnNlSW50IiwiZmlyc3RDaGlsZCIsIndpZHRoIiwiYWx0Iiwic3JjIiwiaW1nU3JjIiwiYXBwZW5kIiwiYmFja2dyb3VuZEltYWdlIiwid2FybiIsInJlemlzZUZuIiwibmV3U2xpZGVyV2lkdGgiLCJ3aW5kb3ciLCJhZGRFdmVudExpc3RlbmVyIiwiZSIsIl9zY3J1YkltYWdlIiwicmVtb3ZlQ2hpbGQiLCJfc2NydWJDb250Iiwic2V0QXR0cmlidXRlIiwiaW5zZXJ0QmVmb3JlIiwiX2ltZ1NyYyIsIl9yZXppc2VGbiIsImNvbnNvbGUiLCJzY3J1YkhhbmRsZSIsImlubmVySFRNTCIsImhhbmRsZSIsInJlbW92ZSIsIm1vdmVyIiwicG9zIiwiZnVsbCIsInNsaWRlciIsInNsaWRpbmciLCJsZWZ0IiwiY29udGVudExlZnQiLCJjb250ZW50UmlnaHQiLCJzaHJpbmsiLCJvZmZzZXRMZWZ0IiwibW91c2VQb3NpdGlvbiIsImNsaWVudFgiLCJmdWxsV2lkdGgiLCJ0cmFjZSIsImEiLCJjb25zdHJ1Y3RvciIsIk9iamVjdCJdLCJtYXBwaW5ncyI6IkFBQUEsWUFTQSxTQUFBQSxVQUFBQyxFQUFBQyxFQUFBQyxHQUNBLEdBQUFDLEVBQ0ksT0FBSUEsWUFDSixHQUFPQyxHQUFBQyxLQUNDRCxFQUFBQSxVQUNBRSxFQUFPQyxXQUNQQyxFQUFRLEtBQ1JMLEdBQUFILEVBQUFTLE1BQUFMLEVBQUFFLElBREpJLEVBQUFSLElBQUFDLENBSUFRLGNBQUlELEdBQ0pDLEVBQUFBLFdBQUFILEVBQUFQLEdBQ0FFLEdBQVVTLEVBQUFBLE1BQVdKLEVBQXJCRixJQUtSLFFBQVNPLE9BQU1DLEdBZ0JYLFFBQVNDLEtBQ0wsR0FBQUMsR0FBQUMsU0FBQUgsR0FBQUksU0FBQUMsaUJBQUFMLEVBQUFNLFFBQUEsR0FBQUYsU0FBQUMsaUJBQUFMLEdBQUEsRUFHQSxNQUFJLFNBQUFPLEdBR0ksR0FBQUMsR0FBQUwsU0FBQUgsR0FBQUEsRUFBQU0sT0FBQU4sQ0FRQSxJQVBBUSxFQUFJQSxFQUFZTCxRQUFTSCxJQUFULElBQ2hCUSxFQUFZQSxFQUFVQyxRQUFRLElBQUssSUFDbkNELEVBQVlBLFFBQVVDLE1BQVEsR0FBS0wsU0FBbkNDLGlCQUFBRyxHQUFBRSxPQUFBLEdBQ0lGLFFBQUFBLEtBQVVHLDJFQUFzRSx3QkFBQSxtQkFBQSx3QkFBQSxtQkFBQSw2QkFJakVDLElBQWZWLEVBQTBCLENBd0UxQkEsRUFBWVcsV0FBYSxlQUF6QlgsSUFBQUEsR0FBWVcsRUFBYUMsV0FFekIsT0FBQWQsRUFBQWUsU0FDSWYsRUFBU2UsTUFBVEEsT0FBeUJmLEVBQUFlLE9BTzdCLEtBQUssR0FITEMsR0FBQWQsRUFBQWUsU0FHU0MsRUFBSSxFQUFHQSxFQUFJLEVBQUdBLElBQUssQ0FBNUIsR0FBS0MsR0FBV0QsRUFBWUEsRUFDcEJDLEdB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R0FBYU0sRUFBQUQsQ0FDQUMsR0FBT0QsaUJBQXBCLFlBQ0lHLEdBQUFBLE1BQVVELE1BQU94RCxFQUFBQSxFQUFBQSxFQUFpQixHQUFBLElBQ3JCMEQsR0FBUUosaUJBQUQsZUFDcEJLLEdBQUFBLE1BQWNILE9BQU94RCxFQUFBQSxFQUFBQSxFQUFpQixHQUFBLElBQzNCMEIsR0FBZjFCLGlCQUE4QixnQkFDMUI0RCxHQUFBQSxNQUFlSixPQUFPeEQsRUFBQUEsRUFBaUI2RCxFQUFBLEdBQTNDLE9BRUgsRUFFTGhFLEdBQUEwQyxpQkFBQSxZQUFBLFNBQUFDLEdBQ0EzQyxHQUFBQSxHQUFZMEMsRUFBQUEsUUFBaUJyRCxLQUE3QjRFLFdBQ1FDLEVBQUFBLEVBQWtCQyxXQUN0QlgsR0FBSVksRUFBWXBFLEVBQVlZLE9BR25DLE1BL0JEK0IsR0FnQ0ZRLFFBQVVrQixNQUFBLGNBQUExQixFQUFBLG1CQUFBLDBCQTVKaEIxQyxTQUFBSCxJQUVJQSxFQUFBTSxXQUFBLEtBQUFOLEVBQUFNLFFBQUFILFNBQUFILEdBQUFBLEVBQUFNLE9BQUEsS0FDQU4sRUFBU00sV0FBb0MsS0FBcEJOLEVBQVNNLFFBQTBCSCxTQUFTSCxHQUFZQSxFQUFTTSxPQUFTLFFBQ25HTixFQUFTZSxXQUFvQyxLQUFwQmYsRUFBU2UsU0FBMEJaLFNBQVNILElBQVlBLEVBQVNlLE9BQzFGZixFQUFTd0QsUUFBeUJBLEtBQWhCeEQsRUFBT0EsS0FBb0JHLFNBQWVBLEdBQVNILEVBQVlBLElBQVN3RCxLQUMxRnhELEVBQVNvQyxRQUE4QixLQUFqQnBDLEVBQVNvQyxLQUF1QmpDLFNBQVNILEdBQVlBLEVBQVNvQyxJQUFNLEtBRzFGbkMsS0FSSkEsSUF2QkosR0FBSUUsVUFBVyxTQUFrQnFFLEdBQTdCckUsUUFBQUEsR0FBV3FFLEVBQUFDLGNBQXFCQyIsImZpbGUiOiJTY3J1Yi5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XHJcblxyXG4vKiBTY3J1YiBTbGlkZXIgKi9cclxuXHJcbi8vIGhlbHBlciBmdW5jdGlvbnNcclxuLy8gb2JqZWN0IHRlc3RcclxudmFyIGlzT2JqZWN0ID0gZnVuY3Rpb24gaXNPYmplY3QoYSkge1xyXG4gICAgcmV0dXJuICEhYSAmJiBhLmNvbnN0cnVjdG9yID09PSBPYmplY3Q7XHJcbn07XHJcbi8vIGRlYm91bmNlICh0aGFua3MgdG8gVW5kZXJzY29yZSlcclxuZnVuY3Rpb24gZGVib3VuY2UoZnVuYywgd2FpdCwgaW1tZWRpYXRlKSB7XHJcbiAgICB2YXIgdGltZW91dDtcclxuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIGNvbnRleHQgPSB0aGlzLFxyXG4gICAgICAgICAgICBhcmdzID0gYXJndW1lbnRzO1xyXG4gICAgICAgIHZhciBsYXRlciA9IGZ1bmN0aW9uIGxhdGVyKCkge1xyXG4gICAgICAgICAgICB0aW1lb3V0ID0gbnVsbDtcclxuICAgICAgICAgICAgaWYgKCFpbW1lZGlhdGUpIGZ1bmMuYXBwbHkoY29udGV4dCwgYXJncyk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICB2YXIgY2FsbE5vdyA9IGltbWVkaWF0ZSAmJiAhdGltZW91dDtcclxuICAgICAgICBjbGVhclRpbWVvdXQodGltZW91dCk7XHJcbiAgICAgICAgdGltZW91dCA9IHNldFRpbWVvdXQobGF0ZXIsIHdhaXQpO1xyXG4gICAgICAgIGlmIChjYWxsTm93KSBmdW5jLmFwcGx5KGNvbnRleHQsIGFyZ3MpO1xyXG4gICAgfTtcclxufTtcclxuXHJcbmZ1bmN0aW9uIFNjcnViKHNjcnViQXJnKSB7XHJcblxyXG4gICAgLy8gY2hlY2sgaWYgc2ltcGxlIGNhbGwgb3IgY29uZmlnIHBhc3NlZFxyXG4gICAgaWYgKGlzT2JqZWN0KHNjcnViQXJnKSkge1xyXG4gICAgICAgIC8vIHNldCBmdW5jdGlvbiBkZWZhdWx0IGFyZ3VtZW50c1xyXG4gICAgICAgIHNjcnViQXJnLnRhcmdldCA9IHR5cGVvZiBzY3J1YkFyZy50YXJnZXQgIT09ICd1bmRlZmluZWQnICYmIGlzT2JqZWN0KHNjcnViQXJnKSA/IHNjcnViQXJnLnRhcmdldCA6IG51bGw7XHJcbiAgICAgICAgc2NydWJBcmcuaGVpZ2h0ID0gdHlwZW9mIHNjcnViQXJnLmhlaWdodCAhPT0gJ3VuZGVmaW5lZCcgJiYgaXNPYmplY3Qoc2NydWJBcmcpID8gc2NydWJBcmcuaGVpZ2h0IDogJzUwMHB4JztcclxuICAgICAgICBzY3J1YkFyZy5oYW5kbGUgPSB0eXBlb2Ygc2NydWJBcmcuaGFuZGxlICE9PSAndW5kZWZpbmVkJyAmJiBpc09iamVjdChzY3J1YkFyZykgPyBzY3J1YkFyZy5oYW5kbGUgOiB0cnVlO1xyXG4gICAgICAgIHNjcnViQXJnLnNyYyA9IHR5cGVvZiBzY3J1YkFyZy5zcmMgIT09ICd1bmRlZmluZWQnICYmIGlzT2JqZWN0KHNjcnViQXJnKSA/IHNjcnViQXJnLnNyYyA6IG51bGw7XHJcbiAgICAgICAgc2NydWJBcmcuYWx0ID0gdHlwZW9mIHNjcnViQXJnLmFsdCAhPT0gJ3VuZGVmaW5lZCcgJiYgaXNPYmplY3Qoc2NydWJBcmcpID8gc2NydWJBcmcuYWx0IDogbnVsbDtcclxuXHJcbiAgICAgICAgU2NydWJJbml0aWF0ZSgpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBTY3J1YkluaXRpYXRlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gU2NydWJJbml0aWF0ZSgpIHtcclxuICAgICAgICAvLyBnZXQgY2hvc2VuIHNsaWRlciBjb250YWluZXJcclxuICAgICAgICB2YXIgc2NydWJTbGlkZXIgPSBpc09iamVjdChzY3J1YkFyZykgPyBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKHNjcnViQXJnLnRhcmdldClbMF0gOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKHNjcnViQXJnKVswXTtcclxuXHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgdmFyIHV0aWxpdHlGbiA9IGZ1bmN0aW9uIHV0aWxpdHlGbihjYWxsYmFjaykge1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIGF2b2lkIG5vbi1zcGVjaWZpYyBjbGFzc2VzLi5cclxuICAgICAgICAgICAgICAgIHZhciBzY3J1Yk5hbWUgPSBpc09iamVjdChzY3J1YkFyZykgPyBzY3J1YkFyZy50YXJnZXQgOiBzY3J1YkFyZztcclxuICAgICAgICAgICAgICAgIHNjcnViTmFtZSA9IHNjcnViTmFtZS5yZXBsYWNlKFwiI1wiLCBcIlwiKTtcclxuICAgICAgICAgICAgICAgIHNjcnViTmFtZSA9IHNjcnViTmFtZS5yZXBsYWNlKFwiLlwiLCBcIlwiKTtcclxuICAgICAgICAgICAgICAgIGlmIChzY3J1Yk5hbWUuaW5kZXhPZignLicpID4gLTEgJiYgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChzY3J1Yk5hbWUpLmxlbmd0aCA+IDEpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJyVjU2NydWIgU2xpZGVyIHdvcmtzIGJlc3QgaWYgeW91IHVzZSBhbiAlY0lEJWMgb3IgYSAlY3VuaXF1ZSVjIGNsYXNzLi4uICcsICdjb2xvcjpjb3JuZmxvd2VyYmx1ZTsnLCAnY29sb3I6aW5kaWFucmVkOycsICdjb2xvcjpjb3JuZmxvd2VyYmx1ZTsnLCAnY29sb3I6aW5kaWFucmVkOycsICdjb2xvcjpjb3JuZmxvd2VyYmx1ZTsnKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoc2NydWJTbGlkZXIgIT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNyZWF0ZVNjcnViSW1hZ2VzID0gZnVuY3Rpb24gY3JlYXRlU2NydWJJbWFnZXMoZWwsIHR5cGUsIGluZGV4KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlID09ICdESVYnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBjbG9uZSBkaXZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzY3J1YkltYWdlID0gZWwuY2xvbmVOb2RlKHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWwucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChlbCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBpbmplY3Qgc2NydWIgY29udGFpbmVyXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgc2NydWJDb250ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY3J1YkNvbnQuY2xhc3NOYW1lID0gaW5kZXggPT0gMCA/IFwic2NydWItY29udGVudCBzY3J1Yi1sZWZ0XCIgOiBcInNjcnViLWNvbnRlbnQgc2NydWItcmlnaHRcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjcnViQ29udC5zdHlsZS53aWR0aCA9IHBhcnNlSW50KHNsaWRlcldpZHRoIC8gMikgKyBcInB4XCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY3J1YlNsaWRlci5pbnNlcnRCZWZvcmUoc2NydWJDb250LCBzY3J1YlNsaWRlci5maXJzdENoaWxkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHJlLWF0dGFjaCBkaXZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjcnViSW1hZ2Uuc3R5bGUud2lkdGggPSBzbGlkZXJXaWR0aCArIFwicHhcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGlmIGFsdCBzcGVjaWZpZWQgbWFudWFsbHlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzY3J1YkFyZy5hbHQgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjcnViSW1hZ2Uuc2V0QXR0cmlidXRlKCdhbHQnLCBpbmRleCA9PSAwID8gc2NydWJBcmcuYWx0WzBdIDogc2NydWJBcmcuYWx0WzFdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGlmIHNyYyBzcGVjaWZpZWQgbWFudWFsbHlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzY3J1YkFyZy5zcmMgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpbWdTcmMgPSBpbmRleCA9PSAwID8gc2NydWJBcmcuc3JjWzBdIDogc2NydWJBcmcuc3JjWzFdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjcnViSW1hZ2Uuc3R5bGUuYmFja2dyb3VuZEltYWdlID0gJ3VybCgnICsgaW1nU3JjICsgJyknO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NydWJDb250LmFwcGVuZChzY3J1YkltYWdlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIG5lZWQgYSBiYWNrZ3JvdW5kIGltYWdlLi5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlbC5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2UgPT0gJycpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJyVjU2NydWIgU2xpZGVyIGRpdnMgbXVzdCBoYXZlIGEgJWNiYWNrZ3JvdW5kIGltYWdlIHRvIHdvcmshJWMgPjpbJywgJ2NvbG9yOmNvcm5mbG93ZXJibHVlOycsICdjb2xvcjppbmRpYW5yZWQ7JywgJ2NvbG9yOmNvcm5mbG93ZXJibHVlOycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGhhbmRsZSByZXNpemVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZXppc2VGbiA9IGRlYm91bmNlKGZ1bmN0aW9uIChzY3J1YkltYWdlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG5ld1NsaWRlcldpZHRoID0gc2NydWJTbGlkZXIub2Zmc2V0V2lkdGg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NydWJDb250LnN0eWxlLndpZHRoID0gcGFyc2VJbnQobmV3U2xpZGVyV2lkdGggLyAyKSArIFwicHhcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY3J1YkltYWdlLnN0eWxlLndpZHRoID0gbmV3U2xpZGVyV2lkdGggKyBcInB4XCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCA1MDApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV6aXNlRm4oc2NydWJJbWFnZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlID09ICdJTUcnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBjbG9uZSBkaXZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBfc2NydWJJbWFnZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIF9pbWdTcmMgPSBlbC5nZXRBdHRyaWJ1dGUoJ3NyYycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gaWYgc3JjIHNwZWNpZmllZCBtYW51YWxseVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNjcnViQXJnLnNyYyAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2ltZ1NyYyA9IGluZGV4ID09IDAgPyBzY3J1YkFyZy5zcmNbMF0gOiBzY3J1YkFyZy5zcmNbMV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGVsKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGluamVjdCBzY3J1YiBjb250YWluZXJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBfc2NydWJDb250ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfc2NydWJDb250LmNsYXNzTmFtZSA9IGluZGV4ID09IDAgPyBcInNjcnViLWNvbnRlbnQgc2NydWItbGVmdFwiIDogXCJzY3J1Yi1jb250ZW50IHNjcnViLXJpZ2h0XCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfc2NydWJDb250LnN0eWxlLndpZHRoID0gcGFyc2VJbnQoc2xpZGVyV2lkdGggLyAyKSArIFwicHhcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGlmIGFsdCBzcGVjaWZpZWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzY3J1YkFyZy5hbHQgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9zY3J1YkltYWdlLnNldEF0dHJpYnV0ZSgnYWx0JywgaW5kZXggPT0gMCA/IHNjcnViQXJnLmFsdFswXSA6IHNjcnViQXJnLmFsdFsxXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY3J1YlNsaWRlci5pbnNlcnRCZWZvcmUoX3NjcnViQ29udCwgc2NydWJTbGlkZXIuZmlyc3RDaGlsZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyByZS1hdHRhY2ggZGl2XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfc2NydWJJbWFnZS5zdHlsZS53aWR0aCA9IHNsaWRlcldpZHRoICsgXCJweFwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3NjcnViSW1hZ2Uuc3R5bGUuYmFja2dyb3VuZEltYWdlID0gJ3VybCgnICsgX2ltZ1NyYyArICcpJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9zY3J1YkNvbnQuYXBwZW5kKF9zY3J1YkltYWdlKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBoYW5kbGUgcmVzaXplXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgX3JlemlzZUZuID0gZGVib3VuY2UoZnVuY3Rpb24gKHNjcnViSW1hZ2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbmV3U2xpZGVyV2lkdGggPSBzY3J1YlNsaWRlci5vZmZzZXRXaWR0aDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfc2NydWJDb250LnN0eWxlLndpZHRoID0gcGFyc2VJbnQobmV3U2xpZGVyV2lkdGggLyAyKSArIFwicHhcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY3J1YkltYWdlLnN0eWxlLndpZHRoID0gbmV3U2xpZGVyV2lkdGggKyBcInB4XCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCA1MDApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlemlzZUZuKF9zY3J1YkltYWdlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgc2NydWJTbGlkZXIuY2xhc3NOYW1lICs9IFwiIHNjcnViLXNsaWRlclwiO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBzbGlkZXJXaWR0aCA9IHNjcnViU2xpZGVyLm9mZnNldFdpZHRoO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIHNldCBoZWlnaHQgaWYgZ2l2ZW5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoc2NydWJBcmcuaGVpZ2h0ICE9IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2NydWJTbGlkZXIuc3R5bGUuaGVpZ2h0ID0gc2NydWJBcmcuaGVpZ2h0O1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gZ2V0IGNob3NlbiBzbGlkZXIncyBpbWFnZXNcclxuICAgICAgICAgICAgICAgICAgICB2YXIgc2NydWJDaGlsZHJlbiA9IHNjcnViU2xpZGVyLmNoaWxkcmVuO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IDI7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY2hpbGQgPSBzY3J1YkNoaWxkcmVuW2ldO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2NydWJDaGlsZHJlbltpXSAmJiBjaGlsZC50YWdOYW1lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcmVhdGVTY3J1YkltYWdlcyhzY3J1YkNoaWxkcmVuW2ldLCBjaGlsZC50YWdOYW1lLCBpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2soc2NydWJTbGlkZXIpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJyVjU2NydWIgU2xpZGVyIG5lZWRzIHRvIGJlIHBhc3NlZCBhbiBhcHByb3ByaWF0ZSBzZWxlY3RvciAlYy0gcHJlZmVyYWJseSBhbiBJRCwgYnV0IGEgc3BlY2lmaWMsIHVuaXF1ZSBjbGFzcyB3b3JrcyB0b28uJywgJ2NvbG9yOmNvcm5mbG93ZXJibHVlOycsICdjb2xvcjppbmRpYW5yZWQ7Jyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB1dGlsaXR5Rm4oZnVuY3Rpb24gKHNjcnViU2xpZGVyKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBhZGQgc2NydWIgY29udHJvbC9oYW5kbGVcclxuICAgICAgICAgICAgICAgIHZhciBzY3J1YkhhbmRsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgICAgICAgICAgc2NydWJIYW5kbGUuY2xhc3NOYW1lID0gXCJzbGlkaW5nIGhhbmRsZU9uIFwiO1xyXG4gICAgICAgICAgICAgICAgc2NydWJIYW5kbGUuaW5uZXJIVE1MID0gJzxzcGFuIGNsYXNzPVwic2xpZGluZy1sZWZ0XCI+PC9zcGFuPjxzcGFuIGNsYXNzPVwic2xpZGluZy1yaWdodFwiPjwvc3Bhbj4nO1xyXG4gICAgICAgICAgICAgICAgc2NydWJTbGlkZXIuYXBwZW5kQ2hpbGQoc2NydWJIYW5kbGUpO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIHJlbW92ZSBoYW5kbGUgaWYgc3BlY2lmaWVkXHJcbiAgICAgICAgICAgICAgICBpZiAoc2NydWJBcmcuaGFuZGxlID09IGZhbHNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2NydWJIYW5kbGUuaW5uZXJIVE1MID0gJyc7XHJcbiAgICAgICAgICAgICAgICAgICAgc2NydWJIYW5kbGUuY2xhc3NMaXN0LnJlbW92ZSgnaGFuZGxlT24nKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAvLyBzY3J1YiBzbGlkZXIgbWFpbiBhY3Rpb24gZm5cclxuICAgICAgICAgICAgICAgIHZhciBtb3ZlciA9IGRlYm91bmNlKGZ1bmN0aW9uIChwb3MsIGZ1bGwsIHNsaWRlcikge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChzY3J1YkhhbmRsZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgc2hyaW5rID0gZnVsbCAtIHBvcztcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNsaWRpbmcgPSBzbGlkZXIucXVlcnlTZWxlY3RvckFsbCgnLnNsaWRpbmcnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2xpZGluZ1swXS5zdHlsZS5sZWZ0ID0gKHBvcyA+IDAgPyBwb3MgOiAwKSArIFwicHhcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNvbnRlbnRMZWZ0ID0gc2xpZGVyLnF1ZXJ5U2VsZWN0b3JBbGwoJy5zY3J1Yi1sZWZ0Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnRMZWZ0WzBdLnN0eWxlLndpZHRoID0gKHBvcyA+IDAgPyBwb3MgOiAwKSArIFwicHhcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNvbnRlbnRSaWdodCA9IHNsaWRlci5xdWVyeVNlbGVjdG9yQWxsKCcuc2NydWItcmlnaHQnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudFJpZ2h0WzBdLnN0eWxlLndpZHRoID0gKHNocmluayA+IDAgPyBzaHJpbmsgOiAwKSArIFwicHhcIjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LCAxKTtcclxuICAgICAgICAgICAgICAgIC8vIGFkZCBtb3VzZW1vdmUgbGlzdGVuZXJcclxuICAgICAgICAgICAgICAgIHNjcnViU2xpZGVyLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1vdXNlUG9zaXRpb24gPSBlLmNsaWVudFggLSB0aGlzLm9mZnNldExlZnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGZ1bGxXaWR0aCA9IHNjcnViU2xpZGVyLm9mZnNldFdpZHRoO1xyXG4gICAgICAgICAgICAgICAgICAgIG1vdmVyKG1vdXNlUG9zaXRpb24sIGZ1bGxXaWR0aCwgc2NydWJTbGlkZXIpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgY29uc29sZS50cmFjZSgnJWN1aC1vaDogJWMnICsgZSArICcnLCAnY29sb3I6aW5kaWFucmVkOycsICdjb2xvcjpjb3JuZmxvd2VyYmx1ZTsnKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuIl19
